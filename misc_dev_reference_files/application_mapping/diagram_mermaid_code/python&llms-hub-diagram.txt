graph TD

    User[User Input] --> MasterAI[Master AI]
    MasterAI --> MemoryHandling[Memory Handling]
    MasterAI --> CommandOutput[Command Output]
    MasterAI --> StaticInfo[Static Information]

    subgraph "Memory Handling"
        MemoryHandling --> BufferMemory[Buffer Memory]
        MemoryHandling --> SummaryMemory[Summary Memory]
        MemoryHandling --> BufferWindowMemory[Conversational Buffer Window Memory]
        MemoryHandling --> KnowledgeGraphMemory[Knowledge Graph Memory]
    end

    BufferMemory --> BMVectorEmbedding[Vector Embedding]
    BufferMemory --> BMTokenManagement[Token Management]
    SummaryMemory --> SMChunking[Document Chunking]
    SummaryMemory --> SMTokenManagement[Token Management]
    BufferWindowMemory --> BWMContextAware[Context-aware Retrieval]
    BufferWindowMemory --> BWMTokenManagement[Token Management]
    KnowledgeGraphMemory --> KGMKnowledgeBase[External Knowledge Base]
    KnowledgeGraphMemory --> KGMTokenManagement[Token Management]

    CommandOutput --> Agents[Agents]
    CommandOutput --> Documents[Documents]

    Agents --> LangChain[LangChain Implementation]
    LangChain --> RetrievalAugmentation[Retrieval Augmentation]
    LangChain --> ExternalKB[External Knowledge Base]
    LangChain --> LongTermMemory[Long-Term Memory]

    Documents --> AgentAccess[Access via Agents]
    AgentAccess --> DynamicInfo[Dynamic Information]

    MasterAI --> AIOutput[Master AI Output]
    AIOutput --> User



